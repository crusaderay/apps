<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Route and Switch - Ray Zhang</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../index.html">Ray Zhang</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../index.html#home" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#about" class="nav-link">About</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#projects" class="nav-link">Projects</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#blog" class="nav-link">Blog</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Blog Post Content -->
    <main class="blog-post-container">
        <div class="container">
            <article class="blog-post-content">
                <header class="post-header">
                    <div class="post-meta">
                        <span class="post-date">March 20, 2024</span>
                        <span class="post-author">By Ray</span>
                    </div>
                    <h1 class="post-title">Route and Switch</h1>
                </header>

                <div class="post-content">
                    <h2>Route and Switch</h2>
                    <p>Routing and switching are fundamental concepts in computer networking that enable data communication across networks. Understanding these technologies is essential for network engineers and IT professionals working with network infrastructure.</p>

                    <h3>1. Switching Fundamentals</h3>
                    <h4>What is Switching?</h4>
                    <p>Switching is the process of forwarding data frames within a local area network (LAN) based on MAC addresses. Switches operate at Layer 2 (Data Link Layer) of the OSI model and create collision domains for each port.</p>

                    <h4>Switch Operations</h4>
                    <ul>
                        <li><strong>Learning</strong>: Building MAC address table by examining source addresses</li>
                        <li><strong>Flooding</strong>: Broadcasting frames when destination is unknown</li>
                        <li><strong>Forwarding</strong>: Sending frames to specific ports based on MAC table</li>
                        <li><strong>Filtering</strong>: Dropping frames destined for the same segment</li>
                        <li><strong>Aging</strong>: Removing old entries from MAC address table</li>
                    </ul>

                    <h4>Switch Types</h4>
                    <ul>
                        <li><strong>Unmanaged Switches</strong>: Basic plug-and-play functionality</li>
                        <li><strong>Managed Switches</strong>: Configuration capabilities, VLANs, QoS</li>
                        <li><strong>Smart/Web Managed</strong>: Limited management through web interface</li>
                        <li><strong>Layer 3 Switches</strong>: Routing capabilities at wire speed</li>
                    </ul>

                    <h3>2. Virtual LANs (VLANs)</h3>
                    <h4>VLAN Concepts</h4>
                    <ul>
                        <li><strong>Logical Segmentation</strong>: Separate broadcast domains on same physical switch</li>
                        <li><strong>VLAN ID</strong>: 12-bit identifier (1-4094, with 1 and 4094 reserved)</li>
                        <li><strong>Default VLAN</strong>: VLAN 1, cannot be deleted</li>
                        <li><strong>Native VLAN</strong>: Untagged traffic on trunk ports</li>
                    </ul>

                    <h4>VLAN Types</h4>
                    <ul>
                        <li><strong>Data VLAN</strong>: User traffic</li>
                        <li><strong>Management VLAN</strong>: Switch management traffic</li>
                        <li><strong>Voice VLAN</strong>: VoIP traffic with QoS priority</li>
                        <li><strong>Native VLAN</strong>: Untagged frames on trunk links</li>
                    </ul>

                    <h4>VLAN Trunking</h4>
                    <ul>
                        <li><strong>802.1Q</strong>: Industry standard VLAN tagging</li>
                        <li><strong>ISL (Inter-Switch Link)</strong>: Cisco proprietary (deprecated)</li>
                        <li><strong>Trunk Ports</strong>: Carry multiple VLANs</li>
                        <li><strong>Access Ports</strong>: Belong to single VLAN</li>
                    </ul>

                    <h3>3. Spanning Tree Protocol (STP)</h3>
                    <h4>STP Purpose</h4>
                    <ul>
                        <li><strong>Loop Prevention</strong>: Prevents Layer 2 loops in redundant topologies</li>
                        <li><strong>Redundancy</strong>: Provides backup paths for fault tolerance</li>
                        <li><strong>Convergence</strong>: Recalculates topology when changes occur</li>
                    </ul>

                    <h4>STP Variants</h4>
                    <ul>
                        <li><strong>STP (802.1D)</strong>: Original standard, slow convergence (30-50 seconds)</li>
                        <li><strong>RSTP (802.1w)</strong>: Rapid convergence (1-6 seconds)</li>
                        <li><strong>MSTP (802.1s)</strong>: Multiple spanning trees for VLAN load balancing</li>
                        <li><strong>PVST+</strong>: Cisco per-VLAN spanning tree</li>
                        <li><strong>Rapid PVST+</strong>: Cisco rapid per-VLAN spanning tree</li>
                    </ul>

                    <h4>STP Port States</h4>
                    <ul>
                        <li><strong>Blocking</strong>: Receives BPDUs, blocks data traffic</li>
                        <li><strong>Listening</strong>: Processes BPDUs, prepares to forward</li>
                        <li><strong>Learning</strong>: Builds MAC address table</li>
                        <li><strong>Forwarding</strong>: Normal operation, forwards traffic</li>
                        <li><strong>Disabled</strong>: Port administratively down</li>
                    </ul>

                    <h3>4. Routing Fundamentals</h3>
                    <h4>What is Routing?</h4>
                    <p>Routing is the process of forwarding packets between different networks based on IP addresses. Routers operate at Layer 3 (Network Layer) and make forwarding decisions using routing tables.</p>

                    <h4>Routing Process</h4>
                    <ol>
                        <li><strong>Packet Reception</strong>: Router receives packet on interface</li>
                        <li><strong>Destination Analysis</strong>: Examines destination IP address</li>
                        <li><strong>Route Lookup</strong>: Searches routing table for best match</li>
                        <li><strong>Forwarding Decision</strong>: Determines next-hop and exit interface</li>
                        <li><strong>Packet Forwarding</strong>: Sends packet toward destination</li>
                    </ol>

                    <h4>Routing Table Components</h4>
                    <ul>
                        <li><strong>Destination Network</strong>: Target network address</li>
                        <li><strong>Subnet Mask</strong>: Network portion identifier</li>
                        <li><strong>Next Hop</strong>: Next router in path</li>
                        <li><strong>Exit Interface</strong>: Outgoing interface</li>
                        <li><strong>Administrative Distance</strong>: Route trustworthiness</li>
                        <li><strong>Metric</strong>: Route cost or preference</li>
                    </ul>

                    <h3>5. Static vs Dynamic Routing</h3>
                    <h4>Static Routing</h4>
                    <ul>
                        <li><strong>Manual Configuration</strong>: Administrator defines routes</li>
                        <li><strong>Advantages</strong>: Predictable, secure, no overhead</li>
                        <li><strong>Disadvantages</strong>: No automatic adaptation, scalability issues</li>
                        <li><strong>Use Cases</strong>: Small networks, stub networks, default routes</li>
                    </ul>

                    <h4>Dynamic Routing</h4>
                    <ul>
                        <li><strong>Automatic Discovery</strong>: Protocols learn network topology</li>
                        <li><strong>Advantages</strong>: Automatic adaptation, scalability</li>
                        <li><strong>Disadvantages</strong>: Protocol overhead, complexity</li>
                        <li><strong>Use Cases</strong>: Large networks, redundant paths</li>
                    </ul>

                    <h3>6. Routing Protocols</h3>
                    <h4>Distance Vector Protocols</h4>
                    <ul>
                        <li><strong>RIP (Routing Information Protocol)</strong>
                            <ul>
                                <li>Metric: Hop count (max 15)</li>
                                <li>Updates: Every 30 seconds</li>
                                <li>Convergence: Slow</li>
                                <li>Use: Small networks</li>
                            </ul>
                        </li>
                        <li><strong>EIGRP (Enhanced Interior Gateway Routing Protocol)</strong>
                            <ul>
                                <li>Metric: Composite (bandwidth, delay, reliability, load)</li>
                                <li>Updates: Triggered</li>
                                <li>Convergence: Fast</li>
                                <li>Vendor: Cisco proprietary</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>Link State Protocols</h4>
                    <ul>
                        <li><strong>OSPF (Open Shortest Path First)</strong>
                            <ul>
                                <li>Algorithm: Dijkstra's SPF</li>
                                <li>Metric: Cost (based on bandwidth)</li>
                                <li>Scalability: Areas for hierarchy</li>
                                <li>Standard: RFC 2328</li>
                            </ul>
                        </li>
                        <li><strong>IS-IS (Intermediate System to Intermediate System)</strong>
                            <ul>
                                <li>Protocol: ISO standard</li>
                                <li>Levels: Level 1 and Level 2</li>
                                <li>Use: Service provider networks</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>Path Vector Protocols</h4>
                    <ul>
                        <li><strong>BGP (Border Gateway Protocol)</strong>
                            <ul>
                                <li>Scope: Inter-domain routing</li>
                                <li>Attributes: AS-path, next-hop, local preference</li>
                                <li>Policy: Extensive policy control</li>
                                <li>Use: Internet backbone, enterprise multi-homing</li>
                            </ul>
                        </li>
                    </ul>

                    <h3>7. OSPF Deep Dive</h3>
                    <h4>OSPF Areas</h4>
                    <ul>
                        <li><strong>Backbone Area (Area 0)</strong>: Central area, all other areas connect</li>
                        <li><strong>Standard Areas</strong>: Normal OSPF operation</li>
                        <li><strong>Stub Areas</strong>: No external routes</li>
                        <li><strong>Totally Stubby Areas</strong>: No external or inter-area routes</li>
                        <li><strong>NSSA</strong>: Not-So-Stubby Area, limited external routes</li>
                    </ul>

                    <h4>OSPF Router Types</h4>
                    <ul>
                        <li><strong>Internal Router</strong>: All interfaces in same area</li>
                        <li><strong>Area Border Router (ABR)</strong>: Connects multiple areas</li>
                        <li><strong>Autonomous System Boundary Router (ASBR)</strong>: Injects external routes</li>
                        <li><strong>Backbone Router</strong>: Has interface in Area 0</li>
                    </ul>

                    <h4>OSPF LSA Types</h4>
                    <ul>
                        <li><strong>Type 1 (Router LSA)</strong>: Router's links within area</li>
                        <li><strong>Type 2 (Network LSA)</strong>: Multi-access network information</li>
                        <li><strong>Type 3 (Summary LSA)</strong>: Inter-area routes</li>
                        <li><strong>Type 4 (ASBR Summary)</strong>: ASBR location</li>
                        <li><strong>Type 5 (External LSA)</strong>: External routes</li>
                        <li><strong>Type 7 (NSSA External)</strong>: External routes in NSSA</li>
                    </ul>

                    <h3>8. BGP Fundamentals</h3>
                    <h4>BGP Sessions</h4>
                    <ul>
                        <li><strong>eBGP (External BGP)</strong>: Between different autonomous systems</li>
                        <li><strong>iBGP (Internal BGP)</strong>: Within same autonomous system</li>
                        <li><strong>Peering</strong>: TCP connection on port 179</li>
                        <li><strong>Route Reflectors</strong>: Solve iBGP full mesh requirement</li>
                    </ul>

                    <h4>BGP Attributes</h4>
                    <ul>
                        <li><strong>Well-known Mandatory</strong>: AS-path, next-hop, origin</li>
                        <li><strong>Well-known Discretionary</strong>: Local preference, atomic aggregate</li>
                        <li><strong>Optional Transitive</strong>: Community, aggregator</li>
                        <li><strong>Optional Non-transitive</strong>: MED, originator ID</li>
                    </ul>

                    <h4>BGP Path Selection</h4>
                    <ol>
                        <li>Highest weight (Cisco proprietary)</li>
                        <li>Highest local preference</li>
                        <li>Locally originated routes</li>
                        <li>Shortest AS-path</li>
                        <li>Lowest origin code</li>
                        <li>Lowest MED</li>
                        <li>eBGP over iBGP</li>
                        <li>Lowest IGP metric to next-hop</li>
                        <li>Oldest route</li>
                        <li>Lowest router ID</li>
                    </ol>

                    <h3>9. Quality of Service (QoS)</h3>
                    <h4>QoS Models</h4>
                    <ul>
                        <li><strong>Best Effort</strong>: No guarantees, default behavior</li>
                        <li><strong>Integrated Services (IntServ)</strong>: Per-flow reservations</li>
                        <li><strong>Differentiated Services (DiffServ)</strong>: Class-based treatment</li>
                    </ul>

                    <h4>QoS Mechanisms</h4>
                    <ul>
                        <li><strong>Classification</strong>: Identifying traffic types</li>
                        <li><strong>Marking</strong>: DSCP, IP precedence, CoS</li>
                        <li><strong>Queuing</strong>: FIFO, PQ, WFQ, CBWFQ</li>
                        <li><strong>Shaping</strong>: Rate limiting traffic</li>
                        <li><strong>Policing</strong>: Enforcing rate limits</li>
                        <li><strong>Congestion Avoidance</strong>: WRED, ECN</li>
                    </ul>

                    <h3>10. Network Security</h3>
                    <h4>Access Control Lists (ACLs)</h4>
                    <ul>
                        <li><strong>Standard ACLs</strong>: Source IP address only</li>
                        <li><strong>Extended ACLs</strong>: Source, destination, protocol, ports</li>
                        <li><strong>Named ACLs</strong>: Descriptive names, easier management</li>
                        <li><strong>Placement</strong>: Standard close to destination, extended close to source</li>
                    </ul>

                    <h4>Port Security</h4>
                    <ul>
                        <li><strong>MAC Address Limiting</strong>: Restrict number of MAC addresses</li>
                        <li><strong>Violation Actions</strong>: Protect, restrict, shutdown</li>
                        <li><strong>Sticky Learning</strong>: Dynamically learned addresses become static</li>
                    </ul>

                    <h4>DHCP Snooping</h4>
                    <ul>
                        <li><strong>Trusted Ports</strong>: Legitimate DHCP servers</li>
                        <li><strong>Untrusted Ports</strong>: Client-facing ports</li>
                        <li><strong>Binding Table</strong>: MAC-IP-VLAN-Port mappings</li>
                        <li><strong>Protection</strong>: DHCP starvation, rogue DHCP servers</li>
                    </ul>

                    <h3>11. Network Troubleshooting</h3>
                    <h4>Troubleshooting Methodology</h4>
                    <ol>
                        <li><strong>Problem Identification</strong>: Define the issue clearly</li>
                        <li><strong>Information Gathering</strong>: Collect relevant data</li>
                        <li><strong>Hypothesis Formation</strong>: Develop possible causes</li>
                        <li><strong>Testing</strong>: Verify hypotheses systematically</li>
                        <li><strong>Resolution</strong>: Implement solution</li>
                        <li><strong>Documentation</strong>: Record findings and solution</li>
                    </ol>

                    <h4>Common Tools</h4>
                    <ul>
                        <li><strong>ping</strong>: Connectivity testing</li>
                        <li><strong>traceroute</strong>: Path discovery</li>
                        <li><strong>show commands</strong>: Device status and configuration</li>
                        <li><strong>debug commands</strong>: Real-time protocol analysis</li>
                        <li><strong>Wireshark</strong>: Packet capture and analysis</li>
                        <li><strong>SNMP monitoring</strong>: Performance metrics</li>
                    </ul>

                    <h4>Layer-by-Layer Approach</h4>
                    <ul>
                        <li><strong>Physical Layer</strong>: Cable, connectors, link lights</li>
                        <li><strong>Data Link Layer</strong>: Frame errors, MAC addresses</li>
                        <li><strong>Network Layer</strong>: IP addressing, routing</li>
                        <li><strong>Transport Layer</strong>: Port numbers, TCP/UDP</li>
                        <li><strong>Application Layer</strong>: Service-specific issues</li>
                    </ul>

                    <h3>12. Modern Networking Trends</h3>
                    <h4>Software-Defined Networking (SDN)</h4>
                    <ul>
                        <li><strong>Centralized Control</strong>: Controller manages network behavior</li>
                        <li><strong>Programmability</strong>: Network behavior defined by software</li>
                        <li><strong>Abstraction</strong>: Separation of control and data planes</li>
                        <li><strong>Protocols</strong>: OpenFlow, NETCONF, RESTCONF</li>
                    </ul>

                    <h4>Network Automation</h4>
                    <ul>
                        <li><strong>Configuration Management</strong>: Ansible, Puppet, Chef</li>
                        <li><strong>Network APIs</strong>: REST, NETCONF, gRPC</li>
                        <li><strong>Intent-Based Networking</strong>: Policy-driven automation</li>
                        <li><strong>DevOps Integration</strong>: Infrastructure as Code</li>
                    </ul>

                    <h4>Cloud Networking</h4>
                    <ul>
                        <li><strong>Virtual Private Clouds</strong>: Isolated cloud networks</li>
                        <li><strong>Hybrid Connectivity</strong>: VPN, Direct Connect</li>
                        <li><strong>Container Networking</strong>: Kubernetes, Docker</li>
                        <li><strong>Service Mesh</strong>: Microservices communication</li>
                    </ul>

                    <h3>13. Best Practices</h3>
                    <ul>
                        <li><strong>Network Design</strong>: Hierarchical design, redundancy planning</li>
                        <li><strong>Documentation</strong>: Network diagrams, IP addressing schemes</li>
                        <li><strong>Change Management</strong>: Controlled configuration changes</li>
                        <li><strong>Monitoring</strong>: Proactive network monitoring</li>
                        <li><strong>Security</strong>: Defense in depth, regular updates</li>
                        <li><strong>Backup</strong>: Configuration backups, disaster recovery</li>
                        <li><strong>Training</strong>: Continuous learning, certification</li>
                    </ul>
                </div>

                <div class="post-navigation">
                    <a href="../index.html#blog" class="back-to-blog">
                        <i class="fas fa-arrow-left"></i> Back to Blog
                    </a>
                </div>
            </article>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024 Ray Zhang. All rights reserved.</p>
                <div class="social-links">
                    <a href="mailto:crusade.ray@gmail.com" class="social-link">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://linkedin.com/in/crusaderay" target="_blank" class="social-link">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://github.com/crusaderay" target="_blank" class="social-link">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../script.js"></script>
</body>
</html>